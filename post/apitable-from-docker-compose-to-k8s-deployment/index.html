<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>apitable从docker compose到k8s deployment的转变 - fayy&amp;fc - A super concise theme for Hugo</title>
<meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="since"><meta name=description content="实在docker-compose到k8s deployment的转变"><meta name=keywords content="Hugo,since,even"><meta name=generator content="Hugo 0.127.0 with theme even"><link rel=canonical href=https://blog.thend03.com/post/apitable-from-docker-compose-to-k8s-deployment/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.cb68f97bc9cece255d217346d970e3c62623408634e500c330a62fadabbbe77c.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:url" content="https://blog.thend03.com/post/apitable-from-docker-compose-to-k8s-deployment/"><meta property="og:site_name" content="fayy&amp;fc - A super concise theme for Hugo"><meta property="og:title" content="apitable从docker compose到k8s deployment的转变"><meta property="og:description" content="实在docker-compose到k8s deployment的转变"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-01-19T10:37:12+08:00"><meta property="article:modified_time" content="2024-01-19T10:37:12+08:00"><meta property="article:tag" content="Apitable"><meta property="article:tag" content="Docker-Compose"><meta property="article:tag" content="K8s-Deployment"><meta itemprop=name content="apitable从docker compose到k8s deployment的转变"><meta itemprop=description content="实在docker-compose到k8s deployment的转变"><meta itemprop=datePublished content="2024-01-19T10:37:12+08:00"><meta itemprop=dateModified content="2024-01-19T10:37:12+08:00"><meta itemprop=wordCount content="3731"><meta itemprop=keywords content="Apitable,Docker-Compose,K8s-Deployment"><meta name=twitter:card content="summary"><meta name=twitter:title content="apitable从docker compose到k8s deployment的转变"><meta name=twitter:description content="实在docker-compose到k8s deployment的转变"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>fayy&amp;fc</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>首页</li></a><a href=/post/><li class=mobile-menu-item>归档</li></a><a href=/tags/><li class=mobile-menu-item>标签</li></a><a href=/categories/><li class=mobile-menu-item>分类</li></a><a href=/about><li class=mobile-menu-item>关于</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>fayy&amp;fc</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>首页</a></li><li class=menu-item><a class=menu-item-link href=/post/>归档</a></li><li class=menu-item><a class=menu-item-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-item-link href=/categories/>分类</a></li><li class=menu-item><a class=menu-item-link href=/about>关于</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>apitable从docker compose到k8s deployment的转变</h1><div class=post-meta><span class=post-time>2024-01-19</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#背景>背景</a></li><li><a href=#过程>过程</a><ul><li><a href=#生成docker-compose预览>生成docker-compose预览</a></li><li><a href=#转换>转换</a></li></ul></li></ul></li></ul></nav></div></div><div class=post-content><p>此篇是apitable系列文章的第2篇，如何实现从本地的docker-compose部署到k8s集群使用deployment部署</p><p>附: <a href=https://github.com/apitable/apitable>apitable代码地址</a></p><h2 id=背景>背景</h2><p>apitable提供了makefile实现了本地环境部署，但是我们的目标是落地测试环境和生产环境。</p><p>为了实现可移植性和可扩展性，刚好我们有一个k8s集群，所以决定在k8s上进行部署</p><h2 id=过程>过程</h2><p>Quick start里本地启动介绍了2步，make dataenv以及make run，就可以本地启动了。那么makefile会有一些比较复杂的逻辑。</p><p>其中make dataenv是使用docker-compose启动了一堆的依赖组件，MySQL、Redis、RabbitMQ、Minio是通过dataenv启动的。</p><p>那么由于它这个makefile比较复杂，docker-compose文件也比较多，makefile最终执行完启动, 环境变量隐藏在里面启动了</p><p>那么在这种情况下怎么做转换呢</p><p><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202401191100776.png alt=image-20240119110009668></p><h3 id=生成docker-compose预览>生成docker-compose预览</h3><p>在询问GPT之后，基于make dataenv的执行过程，给了我如下的一个命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker compose --env-file .env -f docker-compose.yaml -f docker-compose.dataenv.yaml config --resolve-image-digests
</span></span></code></pre></td></tr></table></div></div><p>执行之后可以看到在控制台生成了一份填充好环境变量的yaml文件</p><p><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202401191103489.png alt=image-20240119110310462></p><p>yaml详细内容如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span><span class=lnt>226
</span><span class=lnt>227
</span><span class=lnt>228
</span><span class=lnt>229
</span><span class=lnt>230
</span><span class=lnt>231
</span><span class=lnt>232
</span><span class=lnt>233
</span><span class=lnt>234
</span><span class=lnt>235
</span><span class=lnt>236
</span><span class=lnt>237
</span><span class=lnt>238
</span><span class=lnt>239
</span><span class=lnt>240
</span><span class=lnt>241
</span><span class=lnt>242
</span><span class=lnt>243
</span><span class=lnt>244
</span><span class=lnt>245
</span><span class=lnt>246
</span><span class=lnt>247
</span><span class=lnt>248
</span><span class=lnt>249
</span><span class=lnt>250
</span><span class=lnt>251
</span><span class=lnt>252
</span><span class=lnt>253
</span><span class=lnt>254
</span><span class=lnt>255
</span><span class=lnt>256
</span><span class=lnt>257
</span><span class=lnt>258
</span><span class=lnt>259
</span><span class=lnt>260
</span><span class=lnt>261
</span><span class=lnt>262
</span><span class=lnt>263
</span><span class=lnt>264
</span><span class=lnt>265
</span><span class=lnt>266
</span><span class=lnt>267
</span><span class=lnt>268
</span><span class=lnt>269
</span><span class=lnt>270
</span><span class=lnt>271
</span><span class=lnt>272
</span><span class=lnt>273
</span><span class=lnt>274
</span><span class=lnt>275
</span><span class=lnt>276
</span><span class=lnt>277
</span><span class=lnt>278
</span><span class=lnt>279
</span><span class=lnt>280
</span><span class=lnt>281
</span><span class=lnt>282
</span><span class=lnt>283
</span><span class=lnt>284
</span><span class=lnt>285
</span><span class=lnt>286
</span><span class=lnt>287
</span><span class=lnt>288
</span><span class=lnt>289
</span><span class=lnt>290
</span><span class=lnt>291
</span><span class=lnt>292
</span><span class=lnt>293
</span><span class=lnt>294
</span><span class=lnt>295
</span><span class=lnt>296
</span><span class=lnt>297
</span><span class=lnt>298
</span><span class=lnt>299
</span><span class=lnt>300
</span><span class=lnt>301
</span><span class=lnt>302
</span><span class=lnt>303
</span><span class=lnt>304
</span><span class=lnt>305
</span><span class=lnt>306
</span><span class=lnt>307
</span><span class=lnt>308
</span><span class=lnt>309
</span><span class=lnt>310
</span><span class=lnt>311
</span><span class=lnt>312
</span><span class=lnt>313
</span><span class=lnt>314
</span><span class=lnt>315
</span><span class=lnt>316
</span><span class=lnt>317
</span><span class=lnt>318
</span><span class=lnt>319
</span><span class=lnt>320
</span><span class=lnt>321
</span><span class=lnt>322
</span><span class=lnt>323
</span><span class=lnt>324
</span><span class=lnt>325
</span><span class=lnt>326
</span><span class=lnt>327
</span><span class=lnt>328
</span><span class=lnt>329
</span><span class=lnt>330
</span><span class=lnt>331
</span><span class=lnt>332
</span><span class=lnt>333
</span><span class=lnt>334
</span><span class=lnt>335
</span><span class=lnt>336
</span><span class=lnt>337
</span><span class=lnt>338
</span><span class=lnt>339
</span><span class=lnt>340
</span><span class=lnt>341
</span><span class=lnt>342
</span><span class=lnt>343
</span><span class=lnt>344
</span><span class=lnt>345
</span><span class=lnt>346
</span><span class=lnt>347
</span><span class=lnt>348
</span><span class=lnt>349
</span><span class=lnt>350
</span><span class=lnt>351
</span><span class=lnt>352
</span><span class=lnt>353
</span><span class=lnt>354
</span><span class=lnt>355
</span><span class=lnt>356
</span><span class=lnt>357
</span><span class=lnt>358
</span><span class=lnt>359
</span><span class=lnt>360
</span><span class=lnt>361
</span><span class=lnt>362
</span><span class=lnt>363
</span><span class=lnt>364
</span><span class=lnt>365
</span><span class=lnt>366
</span><span class=lnt>367
</span><span class=lnt>368
</span><span class=lnt>369
</span><span class=lnt>370
</span><span class=lnt>371
</span><span class=lnt>372
</span><span class=lnt>373
</span><span class=lnt>374
</span><span class=lnt>375
</span><span class=lnt>376
</span><span class=lnt>377
</span><span class=lnt>378
</span><span class=lnt>379
</span><span class=lnt>380
</span><span class=lnt>381
</span><span class=lnt>382
</span><span class=lnt>383
</span><span class=lnt>384
</span><span class=lnt>385
</span><span class=lnt>386
</span><span class=lnt>387
</span><span class=lnt>388
</span><span class=lnt>389
</span><span class=lnt>390
</span><span class=lnt>391
</span><span class=lnt>392
</span><span class=lnt>393
</span><span class=lnt>394
</span><span class=lnt>395
</span><span class=lnt>396
</span><span class=lnt>397
</span><span class=lnt>398
</span><span class=lnt>399
</span><span class=lnt>400
</span><span class=lnt>401
</span><span class=lnt>402
</span><span class=lnt>403
</span><span class=lnt>404
</span><span class=lnt>405
</span><span class=lnt>406
</span><span class=lnt>407
</span><span class=lnt>408
</span><span class=lnt>409
</span><span class=lnt>410
</span><span class=lnt>411
</span><span class=lnt>412
</span><span class=lnt>413
</span><span class=lnt>414
</span><span class=lnt>415
</span><span class=lnt>416
</span><span class=lnt>417
</span><span class=lnt>418
</span><span class=lnt>419
</span><span class=lnt>420
</span><span class=lnt>421
</span><span class=lnt>422
</span><span class=lnt>423
</span><span class=lnt>424
</span><span class=lnt>425
</span><span class=lnt>426
</span><span class=lnt>427
</span><span class=lnt>428
</span><span class=lnt>429
</span><span class=lnt>430
</span><span class=lnt>431
</span><span class=lnt>432
</span><span class=lnt>433
</span><span class=lnt>434
</span><span class=lnt>435
</span><span class=lnt>436
</span><span class=lnt>437
</span><span class=lnt>438
</span><span class=lnt>439
</span><span class=lnt>440
</span><span class=lnt>441
</span><span class=lnt>442
</span><span class=lnt>443
</span><span class=lnt>444
</span><span class=lnt>445
</span><span class=lnt>446
</span><span class=lnt>447
</span><span class=lnt>448
</span><span class=lnt>449
</span><span class=lnt>450
</span><span class=lnt>451
</span><span class=lnt>452
</span><span class=lnt>453
</span><span class=lnt>454
</span><span class=lnt>455
</span><span class=lnt>456
</span><span class=lnt>457
</span><span class=lnt>458
</span><span class=lnt>459
</span><span class=lnt>460
</span><span class=lnt>461
</span><span class=lnt>462
</span><span class=lnt>463
</span><span class=lnt>464
</span><span class=lnt>465
</span><span class=lnt>466
</span><span class=lnt>467
</span><span class=lnt>468
</span><span class=lnt>469
</span><span class=lnt>470
</span><span class=lnt>471
</span><span class=lnt>472
</span><span class=lnt>473
</span><span class=lnt>474
</span><span class=lnt>475
</span><span class=lnt>476
</span><span class=lnt>477
</span><span class=lnt>478
</span><span class=lnt>479
</span><span class=lnt>480
</span><span class=lnt>481
</span><span class=lnt>482
</span><span class=lnt>483
</span><span class=lnt>484
</span><span class=lnt>485
</span><span class=lnt>486
</span><span class=lnt>487
</span><span class=lnt>488
</span><span class=lnt>489
</span><span class=lnt>490
</span><span class=lnt>491
</span><span class=lnt>492
</span><span class=lnt>493
</span><span class=lnt>494
</span><span class=lnt>495
</span><span class=lnt>496
</span><span class=lnt>497
</span><span class=lnt>498
</span><span class=lnt>499
</span><span class=lnt>500
</span><span class=lnt>501
</span><span class=lnt>502
</span><span class=lnt>503
</span><span class=lnt>504
</span><span class=lnt>505
</span><span class=lnt>506
</span><span class=lnt>507
</span><span class=lnt>508
</span><span class=lnt>509
</span><span class=lnt>510
</span><span class=lnt>511
</span><span class=lnt>512
</span><span class=lnt>513
</span><span class=lnt>514
</span><span class=lnt>515
</span><span class=lnt>516
</span><span class=lnt>517
</span><span class=lnt>518
</span><span class=lnt>519
</span><span class=lnt>520
</span><span class=lnt>521
</span><span class=lnt>522
</span><span class=lnt>523
</span><span class=lnt>524
</span><span class=lnt>525
</span><span class=lnt>526
</span><span class=lnt>527
</span><span class=lnt>528
</span><span class=lnt>529
</span><span class=lnt>530
</span><span class=lnt>531
</span><span class=lnt>532
</span><span class=lnt>533
</span><span class=lnt>534
</span><span class=lnt>535
</span><span class=lnt>536
</span><span class=lnt>537
</span><span class=lnt>538
</span><span class=lnt>539
</span><span class=lnt>540
</span><span class=lnt>541
</span><span class=lnt>542
</span><span class=lnt>543
</span><span class=lnt>544
</span><span class=lnt>545
</span><span class=lnt>546
</span><span class=lnt>547
</span><span class=lnt>548
</span><span class=lnt>549
</span><span class=lnt>550
</span><span class=lnt>551
</span><span class=lnt>552
</span><span class=lnt>553
</span><span class=lnt>554
</span><span class=lnt>555
</span><span class=lnt>556
</span><span class=lnt>557
</span><span class=lnt>558
</span><span class=lnt>559
</span><span class=lnt>560
</span><span class=lnt>561
</span><span class=lnt>562
</span><span class=lnt>563
</span><span class=lnt>564
</span><span class=lnt>565
</span><span class=lnt>566
</span><span class=lnt>567
</span><span class=lnt>568
</span><span class=lnt>569
</span><span class=lnt>570
</span><span class=lnt>571
</span><span class=lnt>572
</span><span class=lnt>573
</span><span class=lnt>574
</span><span class=lnt>575
</span><span class=lnt>576
</span><span class=lnt>577
</span><span class=lnt>578
</span><span class=lnt>579
</span><span class=lnt>580
</span><span class=lnt>581
</span><span class=lnt>582
</span><span class=lnt>583
</span><span class=lnt>584
</span><span class=lnt>585
</span><span class=lnt>586
</span><span class=lnt>587
</span><span class=lnt>588
</span><span class=lnt>589
</span><span class=lnt>590
</span><span class=lnt>591
</span><span class=lnt>592
</span><span class=lnt>593
</span><span class=lnt>594
</span><span class=lnt>595
</span><span class=lnt>596
</span><span class=lnt>597
</span><span class=lnt>598
</span><span class=lnt>599
</span><span class=lnt>600
</span><span class=lnt>601
</span><span class=lnt>602
</span><span class=lnt>603
</span><span class=lnt>604
</span><span class=lnt>605
</span><span class=lnt>606
</span><span class=lnt>607
</span><span class=lnt>608
</span><span class=lnt>609
</span><span class=lnt>610
</span><span class=lnt>611
</span><span class=lnt>612
</span><span class=lnt>613
</span><span class=lnt>614
</span><span class=lnt>615
</span><span class=lnt>616
</span><span class=lnt>617
</span><span class=lnt>618
</span><span class=lnt>619
</span><span class=lnt>620
</span><span class=lnt>621
</span><span class=lnt>622
</span><span class=lnt>623
</span><span class=lnt>624
</span><span class=lnt>625
</span><span class=lnt>626
</span><span class=lnt>627
</span><span class=lnt>628
</span><span class=lnt>629
</span><span class=lnt>630
</span><span class=lnt>631
</span><span class=lnt>632
</span><span class=lnt>633
</span><span class=lnt>634
</span><span class=lnt>635
</span><span class=lnt>636
</span><span class=lnt>637
</span><span class=lnt>638
</span><span class=lnt>639
</span><span class=lnt>640
</span><span class=lnt>641
</span><span class=lnt>642
</span><span class=lnt>643
</span><span class=lnt>644
</span><span class=lnt>645
</span><span class=lnt>646
</span><span class=lnt>647
</span><span class=lnt>648
</span><span class=lnt>649
</span><span class=lnt>650
</span><span class=lnt>651
</span><span class=lnt>652
</span><span class=lnt>653
</span><span class=lnt>654
</span><span class=lnt>655
</span><span class=lnt>656
</span><span class=lnt>657
</span><span class=lnt>658
</span><span class=lnt>659
</span><span class=lnt>660
</span><span class=lnt>661
</span><span class=lnt>662
</span><span class=lnt>663
</span><span class=lnt>664
</span><span class=lnt>665
</span><span class=lnt>666
</span><span class=lnt>667
</span><span class=lnt>668
</span><span class=lnt>669
</span><span class=lnt>670
</span><span class=lnt>671
</span><span class=lnt>672
</span><span class=lnt>673
</span><span class=lnt>674
</span><span class=lnt>675
</span><span class=lnt>676
</span><span class=lnt>677
</span><span class=lnt>678
</span><span class=lnt>679
</span><span class=lnt>680
</span><span class=lnt>681
</span><span class=lnt>682
</span><span class=lnt>683
</span><span class=lnt>684
</span><span class=lnt>685
</span><span class=lnt>686
</span><span class=lnt>687
</span><span class=lnt>688
</span><span class=lnt>689
</span><span class=lnt>690
</span><span class=lnt>691
</span><span class=lnt>692
</span><span class=lnt>693
</span><span class=lnt>694
</span><span class=lnt>695
</span><span class=lnt>696
</span><span class=lnt>697
</span><span class=lnt>698
</span><span class=lnt>699
</span><span class=lnt>700
</span><span class=lnt>701
</span><span class=lnt>702
</span><span class=lnt>703
</span><span class=lnt>704
</span><span class=lnt>705
</span><span class=lnt>706
</span><span class=lnt>707
</span><span class=lnt>708
</span><span class=lnt>709
</span><span class=lnt>710
</span><span class=lnt>711
</span><span class=lnt>712
</span><span class=lnt>713
</span><span class=lnt>714
</span><span class=lnt>715
</span><span class=lnt>716
</span><span class=lnt>717
</span><span class=lnt>718
</span><span class=lnt>719
</span><span class=lnt>720
</span><span class=lnt>721
</span><span class=lnt>722
</span><span class=lnt>723
</span><span class=lnt>724
</span><span class=lnt>725
</span><span class=lnt>726
</span><span class=lnt>727
</span><span class=lnt>728
</span><span class=lnt>729
</span><span class=lnt>730
</span><span class=lnt>731
</span><span class=lnt>732
</span><span class=lnt>733
</span><span class=lnt>734
</span><span class=lnt>735
</span><span class=lnt>736
</span><span class=lnt>737
</span><span class=lnt>738
</span><span class=lnt>739
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>backend-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>init-db</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_completed_successfully</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_PROXY</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_BUCKET</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_URL</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_SECRET</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>http://minio:9000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_REGION</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_INFO_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/client/info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CALLBACK_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CORS_ORIGINS</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATA_PATH</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABASE_TABLE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=l>apitable_</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABUS_SERVER_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://databus-server:8625</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_NAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DEFAULT_TIME_ZONE</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ENV</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>obs.cn-south-1.myhuaweicloud.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_BACKEND_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/backend-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_DATABUS_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/databus-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_GATEWAY</span><span class=p>:</span><span class=w> </span><span class=l>apitable/openresty:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_IMAGEPROXY_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/imageproxy-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_APPDATA</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-appdata:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_DB</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-db:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MINIO</span><span class=p>:</span><span class=w> </span><span class=l>minio/minio:RELEASE.2023-01-25T00-19-54Z</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MYSQL</span><span class=p>:</span><span class=w> </span><span class=l>mysql:8.0.32</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_PULL_POLICY</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_RABBITMQ</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq:3.11.9-management</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REDIS</span><span class=p>:</span><span class=w> </span><span class=l>redis:7.0.8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REGISTRY</span><span class=p>:</span><span class=w> </span><span class=l>docker.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_ROOM_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/room-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_WEB_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/web-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_FROM</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_HOST</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_SSL_ENABLE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>smtp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_DATABASE</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_ROOT_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NEST_GRPC_ADDRESS</span><span class=p>:</span><span class=w> </span><span class=l>static://room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTP_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTPS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_BUCKET_NAME</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CACHE_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>minio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CLIENT_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>aws</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>QNY1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>PUBLIC_URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_HOST</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_VHOST</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_DB</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>redis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ROOM_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SERVER_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SKIP_REGISTER_VALIDATE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SMS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3333/socket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3007</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_ATTEMPTS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_DELAY</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_TIMEOUT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3002</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_PATH</span><span class=p>:</span><span class=w> </span><span class=l>./static/web_build/index.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_SPACE</span><span class=p>:</span><span class=w> </span><span class=l>spcNTxlv8Drra</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TIMEZONE</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_CUSTOM_PUBLIC_FILES</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_NATIVE_MODULE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;8081&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>healthcheck</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>CMD-SHELL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>curl -sS &#39;http://localhost:8081&#39; || exit 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>retries</span><span class=p>:</span><span class=w> </span><span class=m>60</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>start_period</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/backend-server:latest@sha256:8f5ba8f8bdee76c7981d92e8e9309403e8312c0795e7cac71cea2f8763f15bee</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>databus-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mysql</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_healthy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_PROXY</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_BUCKET</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_URL</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_SECRET</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>http://minio:9000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_REGION</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_INFO_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/client/info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CALLBACK_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CORS_ORIGINS</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATA_PATH</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABASE_TABLE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=l>apitable_</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABUS_SERVER_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://databus-server:8625</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_NAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ENV</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>obs.cn-south-1.myhuaweicloud.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_BACKEND_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/backend-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_DATABUS_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/databus-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_GATEWAY</span><span class=p>:</span><span class=w> </span><span class=l>apitable/openresty:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_IMAGEPROXY_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/imageproxy-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_APPDATA</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-appdata:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_DB</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-db:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MINIO</span><span class=p>:</span><span class=w> </span><span class=l>minio/minio:RELEASE.2023-01-25T00-19-54Z</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MYSQL</span><span class=p>:</span><span class=w> </span><span class=l>mysql:8.0.32</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_PULL_POLICY</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_RABBITMQ</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq:3.11.9-management</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REDIS</span><span class=p>:</span><span class=w> </span><span class=l>redis:7.0.8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REGISTRY</span><span class=p>:</span><span class=w> </span><span class=l>docker.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_ROOM_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/room-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_WEB_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/web-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_FROM</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_HOST</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_SSL_ENABLE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>smtp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_DATABASE</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_ROOT_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NEST_GRPC_ADDRESS</span><span class=p>:</span><span class=w> </span><span class=l>static://room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTP_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTPS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_BUCKET_NAME</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CACHE_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>minio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CLIENT_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>aws</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>QNY1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>PUBLIC_URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_HOST</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_VHOST</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_DB</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>redis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ROOM_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SERVER_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SKIP_REGISTER_VALIDATE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SMS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3333/socket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3007</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_ATTEMPTS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_DELAY</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_TIMEOUT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3002</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_PATH</span><span class=p>:</span><span class=w> </span><span class=l>./static/web_build/index.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_SPACE</span><span class=p>:</span><span class=w> </span><span class=l>spcNTxlv8Drra</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TIMEZONE</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_CUSTOM_PUBLIC_FILES</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_NATIVE_MODULE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;8625&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/databus-server:latest@sha256:462fa8bea11df94642b80a58d683aaf9995d79061588843a9d6b7ee66a421600</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>8625</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;8625&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>gateway</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>backend-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_healthy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>imageproxy-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_started</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>init-appdata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_completed_successfully</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>room-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_started</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>web-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_started</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/openresty:latest@sha256:fea46da296a1f156cebf9d26e9b40c781690479fb7629dafb5f1411494b669a8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>443</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>imageproxy-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BASEURL</span><span class=p>:</span><span class=w> </span><span class=l>http://minio:9000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;8080&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/imageproxy-server:latest@sha256:09ce6fc6817c99247e40cfb52489f217481a867b45d308d9525e13d38aa1e340</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>init-appdata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>init-db</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_completed_successfully</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mysql</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_healthy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_PROXY</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_BUCKET</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_URL</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_SECRET</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>http://minio:9000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_REGION</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_INFO_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/client/info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CALLBACK_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CORS_ORIGINS</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATA_PATH</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABASE_TABLE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=l>apitable_</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABUS_SERVER_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://databus-server:8625</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_NAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ENV</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>obs.cn-south-1.myhuaweicloud.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_BACKEND_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/backend-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_DATABUS_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/databus-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_GATEWAY</span><span class=p>:</span><span class=w> </span><span class=l>apitable/openresty:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_IMAGEPROXY_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/imageproxy-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_APPDATA</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-appdata:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_DB</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-db:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MINIO</span><span class=p>:</span><span class=w> </span><span class=l>minio/minio:RELEASE.2023-01-25T00-19-54Z</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MYSQL</span><span class=p>:</span><span class=w> </span><span class=l>mysql:8.0.32</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_PULL_POLICY</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_RABBITMQ</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq:3.11.9-management</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REDIS</span><span class=p>:</span><span class=w> </span><span class=l>redis:7.0.8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REGISTRY</span><span class=p>:</span><span class=w> </span><span class=l>docker.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_ROOM_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/room-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_WEB_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/web-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_FROM</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_HOST</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_SSL_ENABLE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>smtp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_DATABASE</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_ROOT_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NEST_GRPC_ADDRESS</span><span class=p>:</span><span class=w> </span><span class=l>static://room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTP_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTPS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_BUCKET_NAME</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CACHE_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>minio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CLIENT_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>aws</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>QNY1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>PUBLIC_URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_HOST</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_VHOST</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_DB</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>redis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ROOM_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SERVER_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SKIP_REGISTER_VALIDATE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SMS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3333/socket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3007</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_ATTEMPTS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_DELAY</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_TIMEOUT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3002</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_PATH</span><span class=p>:</span><span class=w> </span><span class=l>./static/web_build/index.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_SPACE</span><span class=p>:</span><span class=w> </span><span class=l>spcNTxlv8Drra</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TIMEZONE</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_CUSTOM_PUBLIC_FILES</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_NATIVE_MODULE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/init-appdata:latest@sha256:4fa2ed5d1a5a3e2f7bd449352ec3054747127aabe4f91c62fc13f4660b25558b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>init-db</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mysql</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_healthy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ACTION</span><span class=p>:</span><span class=w> </span><span class=l>update</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABASE_TABLE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=l>apitable_</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_NAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/init-db:latest@sha256:31cdae8220bdda327e773c2854ced625704203c043774b0992bb13dbb510ae6c</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>minio</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>console-address</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=p>:</span><span class=m>9001</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>minio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ROOT_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ROOT_USER</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;9000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;9001&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>healthcheck</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>CMD-SHELL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>curl -sS &#39;http://localhost:9000&#39; || exit 1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>retries</span><span class=p>:</span><span class=w> </span><span class=m>30</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/minio/minio:RELEASE.2023-01-25T00-19-54Z@sha256:6a125ee7860f387d4b1d9aface8be01413e2a9f803508d23b5e9dd64b833e7a7</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>9000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;9000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>9001</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;9001&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>bind</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>/Users/since/zto/APITable/.data/minio/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>bind</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>create_host_path</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>bind</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>/Users/since/zto/APITable/.data/minio/config</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>/root/.minio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>bind</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>create_host_path</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>mysql</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>default-authentication-plugin=mysql_native_password</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>character-set-server=utf8mb4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>collation-server=utf8mb4_general_ci</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>sql_mode=IGNORE_SPACE,NO_ENGINE_SUBSTITUTION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>lower_case_table_names=2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_DATABASE</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_ROOT_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>healthcheck</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>test</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>CMD-SHELL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=l>mysql apitable -uroot -papitable@com -e &#39;SELECT 1;&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>retries</span><span class=p>:</span><span class=w> </span><span class=m>60</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>start_period</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/library/mysql:8.0.32@sha256:f496c25da703053a6e0717f1d52092205775304ea57535cc9fcaa6f35867800b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>3306</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>bind</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>/Users/since/zto/APITable/.data/mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>/var/lib/mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>bind</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>create_host_path</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rabbitmq</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_DEFAULT_PASS</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_DEFAULT_USER</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;5671&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;15672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/library/rabbitmq:3.11.9-management@sha256:742359d27f34c379585f46645a5b5a9a8e61877b7b3d8dc009b57701ab4b62c2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>5671</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5671&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>5672</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>15672</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;15672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>bind</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>/Users/since/zto/APITable/.data/rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>/var/lib/rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>bind</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>create_host_path</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>redis</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>redis-server</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>appendonly</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;yes&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- --<span class=l>requirepass</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>redis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/library/redis:7.0.8@sha256:6a59f1cbb8d28ac484176d52c473494859a512ddba3ea62a547258cf16c9b3ae</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>mode</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=m>6379</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>published</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>tcp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>bind</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>source</span><span class=p>:</span><span class=w> </span><span class=l>/Users/since/zto/APITable/.data/redis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class=l>/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>bind</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>create_host_path</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>room-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>mysql</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>service_healthy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>required</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_MAX_MODIFY_RECORD_COUNTS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;30&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_PROXY</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_BUCKET</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_URL</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_SECRET</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>http://minio:9000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_REGION</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_INFO_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/client/info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CALLBACK_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CORS_ORIGINS</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATA_PATH</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABASE_TABLE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=l>apitable_</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABUS_SERVER_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://databus-server:8625</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_NAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ENABLE_SOCKET</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ENV</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>obs.cn-south-1.myhuaweicloud.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_BACKEND_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/backend-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_DATABUS_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/databus-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_GATEWAY</span><span class=p>:</span><span class=w> </span><span class=l>apitable/openresty:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_IMAGEPROXY_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/imageproxy-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_APPDATA</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-appdata:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_DB</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-db:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MINIO</span><span class=p>:</span><span class=w> </span><span class=l>minio/minio:RELEASE.2023-01-25T00-19-54Z</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MYSQL</span><span class=p>:</span><span class=w> </span><span class=l>mysql:8.0.32</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_PULL_POLICY</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_RABBITMQ</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq:3.11.9-management</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REDIS</span><span class=p>:</span><span class=w> </span><span class=l>redis:7.0.8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REGISTRY</span><span class=p>:</span><span class=w> </span><span class=l>docker.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_ROOM_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/room-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_WEB_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/web-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>INSTANCE_MAX_MEMORY</span><span class=p>:</span><span class=w> </span><span class=l>4096M</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_FROM</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_HOST</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_SSL_ENABLE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>smtp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_DATABASE</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_ROOT_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NEST_GRPC_ADDRESS</span><span class=p>:</span><span class=w> </span><span class=l>static://room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTP_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTPS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NODE_ENV</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NODE_OPTIONS</span><span class=p>:</span><span class=w> </span>--<span class=l>max-old-space-size=2048 --max-http-header-size=80000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_BUCKET_NAME</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CACHE_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>minio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CLIENT_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>aws</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>QNY1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>PUBLIC_URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_HOST</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_VHOST</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_DB</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>redis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ROOM_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SERVER_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SKIP_REGISTER_VALIDATE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SMS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3333/socket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3007</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_ATTEMPTS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_DELAY</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_TIMEOUT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3002</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_PATH</span><span class=p>:</span><span class=w> </span><span class=l>./static/web_build/index.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_SPACE</span><span class=p>:</span><span class=w> </span><span class=l>spcNTxlv8Drra</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TIMEZONE</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_CUSTOM_PUBLIC_FILES</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_NATIVE_MODULE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3333&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3334&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3001&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3002&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3006&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3005&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;3007&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/room-server:latest@sha256:7fe50c091022eab7d8066e293c8c8543e064cb39f71e91fe5d5291acd2e85a72</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>web-server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_PROXY</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_BUCKET</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ASSETS_URL</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ACCESS_SECRET</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>http://minio:9000</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>AWS_REGION</span><span class=p>:</span><span class=w> </span><span class=l>us-east-1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>BACKEND_INFO_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://backend-server:8081/api/v1/client/info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CALLBACK_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>CORS_ORIGINS</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATA_PATH</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABASE_TABLE_PREFIX</span><span class=p>:</span><span class=w> </span><span class=l>apitable_</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DATABUS_SERVER_BASE_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://databus-server:8625</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_NAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>DB_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ENV</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_ENDPOINT</span><span class=p>:</span><span class=w> </span><span class=l>obs.cn-south-1.myhuaweicloud.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUAWEICLOUD_OBS_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_BACKEND_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/backend-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_DATABUS_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/databus-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_GATEWAY</span><span class=p>:</span><span class=w> </span><span class=l>apitable/openresty:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_IMAGEPROXY_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/imageproxy-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_APPDATA</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-appdata:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_INIT_DB</span><span class=p>:</span><span class=w> </span><span class=l>apitable/init-db:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MINIO</span><span class=p>:</span><span class=w> </span><span class=l>minio/minio:RELEASE.2023-01-25T00-19-54Z</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_MYSQL</span><span class=p>:</span><span class=w> </span><span class=l>mysql:8.0.32</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_PULL_POLICY</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_RABBITMQ</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq:3.11.9-management</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REDIS</span><span class=p>:</span><span class=w> </span><span class=l>redis:7.0.8</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_REGISTRY</span><span class=p>:</span><span class=w> </span><span class=l>docker.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_ROOM_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/room-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>IMAGE_WEB_SERVER</span><span class=p>:</span><span class=w> </span><span class=l>apitable/web-server:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_FROM</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_HOST</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_SSL_ENABLE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>smtp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MAIL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_ACCESS_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MINIO_SECRET_KEY</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_DATABASE</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_HOST</span><span class=p>:</span><span class=w> </span><span class=l>mysql</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_ROOT_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>MYSQL_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>root</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NEST_GRPC_ADDRESS</span><span class=p>:</span><span class=w> </span><span class=l>static://room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTP_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>NGINX_HTTPS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_BUCKET_NAME</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CACHE_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>minio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_CLIENT_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>aws</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>assets</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OSS_TYPE</span><span class=p>:</span><span class=w> </span><span class=l>QNY1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>PUBLIC_URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_HOST</span><span class=p>:</span><span class=w> </span><span class=l>rabbitmq</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_USERNAME</span><span class=p>:</span><span class=w> </span><span class=l>apitable</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>RABBITMQ_VHOST</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_DB</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_HOST</span><span class=p>:</span><span class=w> </span><span class=l>redis</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PASSWORD</span><span class=p>:</span><span class=w> </span><span class=l>apitable@com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>REDIS_PORT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ROOM_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3334</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SERVER_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SKIP_REGISTER_VALIDATE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SMS_ENABLED</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_DOMAIN</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3333/socket</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_GRPC_URL</span><span class=p>:</span><span class=w> </span><span class=l>room-server:3007</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_ATTEMPTS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_RECONNECTION_DELAY</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_TIMEOUT</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>SOCKET_URL</span><span class=p>:</span><span class=w> </span><span class=l>http://room-server:3002</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_PATH</span><span class=p>:</span><span class=w> </span><span class=l>./static/web_build/index.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TEMPLATE_SPACE</span><span class=p>:</span><span class=w> </span><span class=l>spcNTxlv8Drra</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TIMEZONE</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Singapore</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_CUSTOM_PUBLIC_FILES</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>USE_NATIVE_MODULE</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;8080&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>docker.io/apitable/web-server:latest@sha256:bc4c11eb1faec60f293c3392aa69e85f6fbc87817c15358917335053dcfade8f</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>apitable</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>pull_policy</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>networks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>apitable</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>apitable_default</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>driver</span><span class=p>:</span><span class=w> </span><span class=l>bridge</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=转换>转换</h3><p>那么有了yaml之后，就可以方便的执行转换了，因为我们已经拿到了启动各个pod需要的环境变量，虽然有些是冗余无效的配置，但是前</p><p>期我们的目标是能在k8s上部署，后续配置我们再优化</p><p>那么接下来把yaml发给GPT, GPT会生成一份简陋的配置，环境变量没贴完整</p><p><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202401191107116.png alt=image-20240119110703050></p><p>这里deployment的配置是残缺的</p><p><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202401191107188.png alt=image-20240119110746140></p><p>在经过多次询问之后，最终完整的将所有的environment转换成了env</p><p><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202401191110807.png alt=image-20240119111057765></p><p><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202401191111957.png alt=image-20240119111114914></p><p><img src=https://cdn.jsdelivr.net/gh/thend03/mdPic/picGo/202401191111909.png alt=image-20240119111130864></p><p>最终生成了如下的yaml配置</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>your-service</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>your-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>protocol</span><span class=p>:</span><span class=w> </span><span class=l>TCP</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>targetPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>  </span><span class=c># 适当替换为你的容器端口</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>apps/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>your-deployment</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>  </span><span class=c># 根据需要的副本数进行调整</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>selector</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>matchLabels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>your-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>template</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>labels</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>app</span><span class=p>:</span><span class=w> </span><span class=l>your-app</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>your-container</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>your-image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>containerPort</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>  </span><span class=c># 适当替换为你的容器端口</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>API_MAX_MODIFY_RECORD_COUNTS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;30&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>API_PROXY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://backend-server:8081&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ASSETS_BUCKET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;assets&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ASSETS_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;assets&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>AWS_ACCESS_KEY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>AWS_ACCESS_SECRET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>AWS_ENDPOINT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://minio:9000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>AWS_REGION</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;us-east-1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>BACKEND_BASE_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://backend-server:8081/api/v1/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>BACKEND_INFO_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://backend-server:8081/api/v1/client/info&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CALLBACK_DOMAIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>CORS_ORIGINS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DATA_PATH</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;.&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DATABASE_TABLE_PREFIX</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable_&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DATABUS_SERVER_BASE_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://databus-server:8625&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DB_HOST</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;mysql&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DB_NAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DB_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DB_PORT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DB_USERNAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ENABLE_SOCKET</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ENV</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>HUAWEICLOUD_OBS_ACCESS_KEY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>HUAWEICLOUD_OBS_ENDPOINT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;obs.cn-south-1.myhuaweicloud.com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>HUAWEICLOUD_OBS_SECRET_KEY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_BACKEND_SERVER</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/backend-server:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_DATABUS_SERVER</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/databus-server:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_GATEWAY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/openresty:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_IMAGEPROXY_SERVER</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/imageproxy-server:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_INIT_APPDATA</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/init-appdata:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_INIT_DB</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/init-db:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_MINIO</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;minio/minio:RELEASE.2023-01-25T00-19-54Z&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_MYSQL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;mysql:8.0.32&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_PULL_POLICY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;always&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_RABBITMQ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;rabbitmq:3.11.9-management&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_REDIS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;redis:7.0.8&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_REGISTRY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;docker.io&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_ROOM_SERVER</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/room-server:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>IMAGE_WEB_SERVER</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable/web-server:latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>INSTANCE_MAX_MEMORY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;4096M&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_ENABLED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_FROM</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_HOST</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_PORT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_SSL_ENABLE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_TYPE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;smtp&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MAIL_USERNAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MINIO_ACCESS_KEY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MINIO_SECRET_KEY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MYSQL_DATABASE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MYSQL_HOST</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;mysql&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MYSQL_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MYSQL_PORT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3306&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MYSQL_ROOT_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>MYSQL_USERNAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;root&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>NEST_GRPC_ADDRESS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;static://room-server:3334&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>NGINX_HTTP_PORT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;80&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>NGINX_HTTPS_PORT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;443&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>NODE_ENV</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>NODE_OPTIONS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;--max-old-space-size=2048 --max-http-header-size=80000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>OSS_BUCKET_NAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;assets&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>OSS_CACHE_TYPE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;minio&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>OSS_CLIENT_TYPE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;aws&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>OSS_ENABLED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>OSS_HOST</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;assets&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>OSS_TYPE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;QNY1&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>PUBLIC_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>RABBITMQ_HOST</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;rabbitmq&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>RABBITMQ_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>RABBITMQ_PORT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5672&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>RABBITMQ_USERNAME</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>RABBITMQ_VHOST</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>REDIS_DB</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>REDIS_HOST</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;redis&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>REDIS_PASSWORD</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;apitable@com&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>REDIS_PORT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;6379&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ROOM_GRPC_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;room-server:3334&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SERVER_DOMAIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SKIP_REGISTER_VALIDATE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SMS_ENABLED</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;false&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SOCKET_DOMAIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://room-server:3333/socket&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SOCKET_GRPC_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;room-server:3007&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SOCKET_RECONNECTION_ATTEMPTS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;10&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SOCKET_RECONNECTION_DELAY</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;500&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SOCKET_TIMEOUT</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5000&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>SOCKET_URL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;http://room-server:3002&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TEMPLATE_PATH</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;./static/web_build/index.html&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TEMPLATE_SPACE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;spcNTxlv8Drra&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TIMEZONE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Asia/Singapore&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>TZ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Asia/Singapore&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>USE_CUSTOM_PUBLIC_FILES</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;true&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>USE_NATIVE_MODULE</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;0&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>有了基本的架子之后，就可以在当前的模板上进行更新修改了，按需调整配置项，最终实现了make dataenv和make run涉及的所有组件</p><p>在k8s deployment上部署的目标。</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>since</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2024-01-19</span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/apitable/>apitable</a>
<a href=/tags/docker-compose/>docker-compose</a>
<a href=/tags/k8s-deployment/>k8s-deployment</a></div><nav class=post-nav><a class=prev href=/post/connect-websocket-by-netty-client/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">使用netty-client建立websocket连接</span>
<span class="prev-text nav-mobile">上一篇</span>
</a><a class=next href=/post/nginx-replace-placeholder/><span class="next-text nav-default">nginx替换占位符</span>
<span class="next-text nav-mobile">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><script src=https://utteranc.es/client.js repo=thend03/blog-comments issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=whenevertobefc@outlook.com class="iconfont icon-email" title=email></a><a href=https://stackoverflow.com/ class="iconfont icon-stack-overflow" title=stack-overflow></a><a href=https://twitter.com/TobeWhenever class="iconfont icon-twitter" title=twitter></a><a href=https://facebook.com class="iconfont icon-facebook" title=facebook></a><a href=https://www.linkedin.com/in/ccc-f-03127a280/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://google.com.hk class="iconfont icon-google" title=google></a><a href=https://github.com/thend03/ class="iconfont icon-github" title=github></a><a href=https://weibo.com/u/2997714233 class="iconfont icon-weibo" title=weibo></a><a href=https://www.zhihu.com/people/sssddr-28 class="iconfont icon-zhihu" title=zhihu></a><a href="https://www.douban.com/people/168584175/?_i=72721742lW80TP" class="iconfont icon-douban" title=douban></a><a href=http://localhost:1313 class="iconfont icon-pocket" title=pocket></a><a href=http://localhost:1313 class="iconfont icon-tumblr" title=tumblr></a><a href=http://localhost:1313 class="iconfont icon-instagram" title=instagram></a><a href=http://localhost:1313 class="iconfont icon-gitlab" title=gitlab></a><a href=http://localhost:1313 class="iconfont icon-bilibili" title=bilibili></a><a href=https://blog.thend03.com/post/apitable-from-docker-compose-to-k8s-deployment/ type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动
</span><span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span><span class=copyright-year>&copy;
2022 -
2024<span class=heart><i class="iconfont icon-heart"></i></span><span>since</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GZVCWD04LL"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GZVCWD04LL")</script></body></html>